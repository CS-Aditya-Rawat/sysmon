<!DOCTYPE html>
<html>
    <head>
        <title>System Monitor</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="{{ url_for("static", filename="css3/uikit.min.css") }}" />
        <link rel="stylesheet" href="{{ url_for("static", filename="css3/custfrmt.css") }}" />
        <script src="{{ url_for("static", filename="jscn/uikit.min.js") }}"></script>
        <script src="{{ url_for("static", filename="jscn/uikit-icons.min.js") }}"></script>
        <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
        <script type=text/javascript>
                $(function() {
                  $('a#test').bind('click', function() {
                    $.getJSON('/background_process_test',
                        function(data) {
                            document.write(Date());
                    });
                return false;
              });
            });
        </script>
        <script type="text/javascript">
            async function UpdateValues() {
            while (1)
            {
                await new Promise(r => setTimeout(r, 1000));
                $SCRIPT_ROOT = {{ request.script_root|tojson|safe }};
                $.getJSON($SCRIPT_ROOT+"/virtdata/",
                    function(data) {
                        $("#virttomr").text(data.virttomr)
                        $("#virtavbl").text(data.virtavbl)
                        $("#virtperc").text("Virtual ("+data.virtperc+"%)")
                        $("#virtused").text(data.virtused)
                        $("#virtactv").text(data.virtactv)
                        $("#virtbufr").text(data.virtbufr)
                        $("#virtcach").text(data.virtcach)
                        $("#virtshrd").text(data.virtshrd)
                        $("#virtslab").text(data.virtslab)
                        var virtprog = document.getElementById("virtprog");
                        virtprog.value=data.virtperc;
                    });
                $.getJSON($SCRIPT_ROOT+"/cputimes/",
                    function(data) {
                        for (let indx = 0; indx < {{ cpuquant }}; indx ++)
                        {
                            $("#time-user-"+indx).text(data.cputimes[indx][0])
                            $("#time-nice-"+indx).text(data.cputimes[indx][1])
                            $("#time-syst-"+indx).text(data.cputimes[indx][2])
                            $("#time-idle-"+indx).text(data.cputimes[indx][3])
                            $("#time-iowt-"+indx).text(data.cputimes[indx][4])
                            $("#time-ireq-"+indx).text(data.cputimes[indx][5])
                            $("#time-soft-"+indx).text(data.cputimes[indx][6])
                            $("#time-stel-"+indx).text(data.cputimes[indx][7])
                            $("#time-gest-"+indx).text(data.cputimes[indx][8])
                            $("#time-gtnc-"+indx).text(data.cputimes[indx][9])
                        }
                    });
                $.getJSON($SCRIPT_ROOT+"/cpuprcnt/",
                    function(data) {
                        for (let indx = 0; indx < {{ cpuquant }}; indx ++)
                        {
                            $("#cpu-utext-"+indx).text("CPU #"+indx+" ("+data.cpuprcnt[indx]+"%)")
                            var cpupfill = document.getElementById("cpu-usage-"+indx);
                            cpupfill.value = data.cpuprcnt[indx];
                        }
                    });
                $.getJSON($SCRIPT_ROOT+"/cpuclock/",
                    function(data) {
                        for (let indx = 0; indx < {{ cpuquant }}; indx ++)
                        {
                            $("#cpu-ctext-"+indx).text(data.cpuclock[indx][0] + "MHz of Min " + data.cpuclock[indx][1] + "MHz and Max " + data.cpuclock[indx][2] + "MHz")
                        }
                    });
                $.getJSON($SCRIPT_ROOT+"/cpustats/",
                    function(data) {
                        $("#cpus-stat-ctxs").text(data.cpustats["ctxs"])
                        $("#cpus-stat-intr").text(data.cpustats["intr"])
                        $("#cpus-stat-soft").text(data.cpustats["soft"])
                        $("#cpus-stat-sysc").text(data.cpustats["sysc"])
                    });
                $.getJSON($SCRIPT_ROOT+"/swapinfo/",
                    function(data) {
                        $("#swaptotl").text(data.swapinfo[0])
                        $("#swapused").text(data.swapinfo[1])
                        $("#swapfree").text(data.swapinfo[2])
                        $("#swapsine").text(data.swapinfo[4])
                        $("#swapsout").text(data.swapinfo[5])
                        $("#swapperc").text("Swap (" + data.swapinfo[3] + "%)")
                        var swapfill = document.getElementById("swapprog");
                        swapfill.value = data.swapinfo[3];
                    });
                $.getJSON($SCRIPT_ROOT+"/diousage/",
                    function(data) {
                        for (let indx = 0; indx < {{ dionames|length }}; indx ++)
                        {
                            $("#disk-rdct-"+indx).text(data.diousage[indx][0])
                            $("#disk-wrct-"+indx).text(data.diousage[indx][1])
                            $("#disk-rdbt-"+indx).text(data.diousage[indx][2])
                            $("#disk-wrbt-"+indx).text(data.diousage[indx][3])
                            $("#disk-rdtm-"+indx).text(data.diousage[indx][4])
                            $("#disk-wrtm-"+indx).text(data.diousage[indx][5])
                            $("#disk-wrmc-"+indx).text(data.diousage[indx][6])
                            $("#disk-rdmc-"+indx).text(data.diousage[indx][7])
                            $("#disk-bstm-"+indx).text(data.diousage[indx][8])
                        }
                    });
                $.getJSON($SCRIPT_ROOT+"/netusage/",
                    function(data) {
                        for (let indx = 0; indx < {{ netnames|length }}; indx ++)
                        {
                            $("#netu-bsnt-"+indx).text(data.netusage[indx][0])
                            $("#netu-brcv-"+indx).text(data.netusage[indx][1])
                            $("#netu-psnt-"+indx).text(data.netusage[indx][2])
                            $("#netu-prcv-"+indx).text(data.netusage[indx][3])
                            $("#netu-erin-"+indx).text(data.netusage[indx][4])
                            $("#netu-eout-"+indx).text(data.netusage[indx][5])
                            $("#netu-dpin-"+indx).text(data.netusage[indx][6])
                            $("#netu-dout-"+indx).text(data.netusage[indx][7])

                        }
                    });
                $.getJSON($SCRIPT_ROOT+"/senstemp/",
                    function(data) {
                        for (indx in data.senstemp)
                        {
                            for (let jndx = 0; jndx < data.senstemp[indx].length; jndx++)
                            {
                                $("#sens-temp-labl-"+indx+"-"+jndx).text(data.senstemp[indx][jndx][0])
                                $("#sens-temp-curt-"+indx+"-"+jndx).text(data.senstemp[indx][jndx][1]+" C")
                                $("#sens-temp-high-"+indx+"-"+jndx).text(data.senstemp[indx][jndx][2]+" C")
                                $("#sens-temp-temp-"+indx+"-"+jndx).text(data.senstemp[indx][jndx][3]+" C")
                            }
                        }
                    });
                $.getJSON($SCRIPT_ROOT+"/battstat/",
                    function(data) {
                        for (indx in data.battstat)
                        {
                            $("#batt-stat-perc").text(data.battstat[0])
                            $("#batt-stat-secs").text(data.battstat[1])
                            $("#batt-stat-plug").text(data.battstat[2])
                            var battprog = document.getElementById("batt-stat-prog");
                            battprog.value = data.battstat[0];
                        }
                    });
                $.getJSON($SCRIPT_ROOT+"/procinfo/",
                    function(data) {
                        var proclist = document.getElementById("proclist");
                        var procqant = proclist.rows.length
                        for (let indx = 0; indx < procqant; indx++)
                        {
                            if (proclist.rows.length > 1)
                            {
                                proclist.deleteRow(1);
                            }
                        }
                        var taskqant = data.procinfo.length;
                        var procttle = document.getElementById("proc-info-ttle");
                        procttle.innerText = "Active (" + taskqant + ")"
                        for (let indx = 1; indx < taskqant; indx++)
                        {
                            var actirowe = proclist.insertRow(indx);
                            var row0cell = actirowe.insertCell(0);
                            var row1cell = actirowe.insertCell(1);
                            var row2cell = actirowe.insertCell(2);
                            var row3cell = actirowe.insertCell(3);
                            var row4cell = actirowe.insertCell(4);
                            var row5cell = actirowe.insertCell(5);
                            var row6cell = actirowe.insertCell(6);

                            var pmodname = "\""+String(data.procinfo[indx]['name'])+"\"";
                            var pmodpide = "\""+String(data.procinfo[indx]['pid'])+"\"";
                            var pmodcpaf = "\""+String(data.procinfo[indx]['cpu_affinity'])+"\"";
                            var pmodcprc = "\""+String(data.procinfo[indx]['cpu_percent'])+"\"";
                            var pmodcptm = "\""+String(data.procinfo[indx]['cpu_times'])+"\"";
                            var pmodmktm = "\""+String(data.procinfo[indx]['create_time'])+"\"";
                            var pmodgids = "\""+String(data.procinfo[indx]['gids'])+"\"";
                            var pmodminf = "\""+String(data.procinfo[indx]['memory_info'])+"\"";
                            var pmodmprc = "\""+String(data.procinfo[indx]['memory_percent'])+"\"";
                            var pmodctxs = "\""+String(data.procinfo[indx]['num_ctx_switches'])+"\"";
                            var pmodthqn = "\""+String(data.procinfo[indx]['num_threads'])+"\"";
                            var pmodstat = "\""+String(data.procinfo[indx]['status'])+"\"";
                            var pmodterm = "\""+String(data.procinfo[indx]['terminal'])+"\"";
                            var pmodthrd = "\""+String(data.procinfo[indx]['threads'])+"\"";
                            var pmoduids = "\""+String(data.procinfo[indx]['uids'])+"\"";
                            var pmoduser = "\""+String(data.procinfo[indx]['username'])+"\"";

                            var argument = pmodname + ", " + pmodpide + ", " + pmodcpaf + ", " + pmodcprc + ", " + pmodcptm + ", " + pmodmktm + ", " + pmodgids + ", " + pmodminf + ", " + pmodmprc + ", " + pmodctxs + ", " + pmodthqn + ", " + pmodstat + ", " + pmodterm + ", " + pmodthrd + ", " + pmoduids + ", " + pmoduser;

                            //row0cell.innerHTML = "<a type='button' onclick='SetTitleModalProcess("+"'"+pmodname+"','"+pmodpide+"')' uk-toggle='target: #students-login-modal' class='uk-button uk-button-text headelem'>" + data.procinfo[indx]["name"] + "</a>";

                            //row0cell.innerHTML = "<a type='button' onclick='SetTitleModalProcess("+pmodname+","+pmodpide+")' uk-toggle='target: #students-login-modal' class='uk-button uk-button-text headelem'>" + data.procinfo[indx]["name"] + "</a>";

                            row0cell.innerHTML = "<a type='button' onclick='SetTitleModalProcess("+argument+")' uk-toggle='target: #students-login-modal' class='uk-button uk-button-text headelem'>" + data.procinfo[indx]["name"] + "</a>";

                            //row0cell.innerHTML = "<a type='button' onclick='console.log("+data.procinfo[indx]['name']+")' uk-toggle='target: #students-login-modal' class='uk-button uk-button-text headelem'>" + data.procinfo[indx]["name"] + "</a>";

                            row1cell.innerText = data.procinfo[indx]["username"];
                            row2cell.innerText = data.procinfo[indx]["memory_percent"];
                            row3cell.innerText = data.procinfo[indx]["cpu_percent"];
                            row4cell.innerText = data.procinfo[indx]["num_threads"];
                            row5cell.innerText = data.procinfo[indx]["terminal"];
                            row6cell.innerText = data.procinfo[indx]["status"];
                        }
                    });
                }
            }
            function SetTitleModalProcess(pmodname, pmodpide, pmodcpaf, pmodcprc, pmodcptm, pmodmktm, pmodgids, pmodminf, pmodmprc, pmodctxs, pmodthqn, pmodstat, pmodterm, pmodthrd, pmoduids, pmoduser)
            {
                document.getElementById("proc-boxe-name").innerText = pmodname;
                document.getElementById("proc-boxe-pide").innerText = "PID : " + pmodpide;
                document.getElementById("proc-boxe-cpaf").innerText = pmodcpaf;
                document.getElementById("proc-boxe-cprc").innerText = pmodcprc + "%";
                document.getElementById("proc-boxe-cptm").innerText = pmodcptm;
                document.getElementById("proc-boxe-mktm").innerText = pmodmktm;
                document.getElementById("proc-boxe-gids").innerText = pmodgids;
                document.getElementById("proc-boxe-minf").innerText = pmodminf;
                //pmodmprc, pmodctxs, pmodthqn, pmodstat, pmodterm, pmodthrd, pmoduids, pmoduser
                document.getElementById("proc-boxe-mprc").innerText = pmodmprc + "%";
                document.getElementById("proc-boxe-ctxs").innerText = pmodctxs;
                document.getElementById("proc-boxe-thqn").innerText = pmodthqn;
                document.getElementById("proc-boxe-stat").innerText = pmodstat;
                document.getElementById("proc-boxe-term").innerText = pmodterm;
                document.getElementById("proc-boxe-thrd").innerText = pmodthrd;
                document.getElementById("proc-boxe-uids").innerText = pmoduids;
                document.getElementById("proc-boxe-user").innerText = pmoduser;
            }
            function MenuTextSetter(ActiveMenuText)
            {
                var ttletext = document.getElementById("ttletext");
                ttletext.innerText = "Dashboard / " + ActiveMenuText;
            }
        </script>
    </head>
    <body onload="UpdateValues()">
        <div class="uk-container uk-container-small">
            <br/>
            <div class="uk-card uk-card-default">
                <div class="uk-card-header uk-padding-small forggrin">
                    <div class="uk-grid-small uk-flex-middle" uk-grid>
                        <div class="uk-width-auto">
                            <img class="uk-border-circle" width="40" height="40" src="{{ url_for("static", filename="imgs/datalogo.png") }}">
                        </div>
                        <div class="uk-width-expand">
                            <h3 class="uk-card-title uk-margin-remove-bottom headelem">System Monitor</h3>
                            <p class="uk-text-meta uk-margin-remove-top normelem"><time datetime="2016-04-01T19:00">Initial Build by t0xic0der (26 June 2020)</time></p>
                        </div>
                    </div>
                </div>
                <div class="uk-card-body uk-padding-small">
                    <h3 id="ttletext" class="headelem">Dashboard</h3>
                    <ul class="headelem" uk-tab>
                        <li><a onclick="MenuTextSetter('Processor')" href="#">Processor</a></li>
                        <li><a onclick="MenuTextSetter('Memory')" href="#">Memory</a></li>
                        <li><a onclick="MenuTextSetter('Disks')" href="#">Disks</a></li>
                        <li><a onclick="MenuTextSetter('Network')" href="#">Network</a></li>
                        <li><a onclick="MenuTextSetter('Sensors')" href="#">Sensors</a></li>
                        <li><a onclick="MenuTextSetter('Thermal')" href="#">Thermal</a></li>
                        <li><a onclick="MenuTextSetter('Processes')" href="#">Processes</a></li>
                        <li><a onclick="MenuTextSetter('Miscellaneous')" href="#">Miscellaneous</a></li>
                        <li><a onclick="MenuTextSetter('About')" href="#">About</a></li>
                    </ul>
                    <ul class="uk-switcher uk-margin">
                        <li>
                            <h3 id="cptmtext" class="uk-card-title headelem">Usage</h3>
                            {% for indx in range(cpuquant) %}
                                <h4 id="cpu-utext-{{ indx }}" class="hugeelem uk-margin-remove">CPU #{{ indx }} (0%)</h4>
                                <p id="cpu-ctext-{{ indx }}" class="uk-text-meta uk-margin-remove normelem">0MHz of Min 0MHz and Max 0 MHz</p>
                                <progress id="cpu-usage-{{ indx }}" class="uk-progress uk-margin-small" value="0" max="100" style="color: #008080;"></progress>
                            {% endfor %}
                            <h3 id="cptmtext" class="uk-card-title headelem">Times</h3>
                            <table class="uk-table uk-table-small uk-table-divider normelem">
                                <thead>
                                    <tr>
                                        <th>#</th>
                                        <th>USER</th>
                                        <th>NICE</th>
                                        <th>SYST</th>
                                        <th>IDLE</th>
                                        <th>IOWT</th>
                                        <th>IREQ</th>
                                        <th>SOFT</th>
                                        <th>STEL</th>
                                        <th>GEST</th>
                                        <th>GTNC</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    {% for indx in range(cpuquant) %}
                                    <tr>
                                        <td id="time-cpun-{{ indx }}" >CPU #{{ indx }}</td>
                                        <td id="time-user-{{ indx }}" >0</td>
                                        <td id="time-nice-{{ indx }}" >0</td>
                                        <td id="time-syst-{{ indx }}" >0</td>
                                        <td id="time-idle-{{ indx }}" >0</td>
                                        <td id="time-iowt-{{ indx }}" >0</td>
                                        <td id="time-ireq-{{ indx }}" >0</td>
                                        <td id="time-soft-{{ indx }}" >0</td>
                                        <td id="time-stel-{{ indx }}" >0</td>
                                        <td id="time-gest-{{ indx }}" >0</td>
                                        <td id="time-gtnc-{{ indx }}" >0</td>
                                    </tr>
                                    {% endfor %}
                                </tbody>
                            </table>
                            <h3 id="cptmtext" class="uk-card-title headelem">Statistics</h3>
                            <table class="uk-table uk-table-small uk-table-divider normelem">
                                <thead>
                                    <tr>
                                        <th>CTXS</th>
                                        <th>INTR</th>
                                        <th>SOFT</th>
                                        <th>SYSC</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td id="cpus-stat-ctxs">0</td>
                                        <td id="cpus-stat-intr">0</td>
                                        <td id="cpus-stat-soft">0</td>
                                        <td id="cpus-stat-sysc">0</td>
                                    </tr>
                                </tbody>
                            </table>
                        </li>
                        <li>
                            <h3 id="virtperc" class="uk-card-title headelem">Virtual (0%)</h3>
                            <progress id="virtprog" class="uk-progress uk-margin-small" value="0" max="100" style="color: #008080;"></progress>
                            <table class="uk-table uk-table-small uk-table-divider normelem">
                                <thead>
                                    <tr>
                                        <th>TOTL</th>
                                        <th>AVBL</th>
                                        <th>USED</th>
                                        <th>ACTV</th>
                                        <th>BUFR</th>
                                        <th>CACH</th>
                                        <th>SHRD</th>
                                        <th>SLAB</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td id="virttomr">0</td>
                                        <td id="virtavbl">0</td>
                                        <td id="virtused">0</td>
                                        <td id="virtactv">0</td>
                                        <td id="virtbufr">0</td>
                                        <td id="virtcach">0</td>
                                        <td id="virtshrd">0</td>
                                        <td id="virtslab">0</td>
                                    </tr>
                                </tbody>
                            </table>
                            <h3 id="swapperc" class="uk-card-title headelem">Swap (0%)</h3>
                            <progress id="swapprog" class="uk-progress uk-margin-small" value="0" max="100" style="color: #008080;"></progress>
                            <table class="uk-table uk-table-small uk-table-divider normelem">
                                <thead>
                                    <tr>
                                        <th>TOTL</th>
                                        <th>USED</th>
                                        <th>FREE</th>
                                        <th>PERC</th>
                                        <th>SINE</th>
                                        <th>SOUT</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td id="swaptotl">0</td>
                                        <td id="swapused">0</td>
                                        <td id="swapfree">0</td>
                                        <td id="swapperc">0</td>
                                        <td id="swapsine">0</td>
                                        <td id="swapsout">0</td>
                                    </tr>
                                </tbody>
                            </table>
                        </li>
                        <li>
                            <h3 class="uk-card-title headelem">Usage</h3>
                            <table class="uk-table uk-table-small uk-table-divider normelem">
                                <thead>
                                    <tr>
                                        <th>PART</th>
                                        <th>RDCT</th>
                                        <th>WRCT</th>
                                        <th>RDBT</th>
                                        <th>WRBT</th>
                                        <th>RDTM</th>
                                        <th>WRTM</th>
                                        <th>WRMC</th>
                                        <th>RDMC</th>
                                        <th>BSTM</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    {% for indx in range(dionames|length) %}
                                    <tr>
                                        <td id="disk-part-{{ indx }}">{{ dionames[indx] }}</td>
                                        <td id="disk-rdct-{{ indx }}">0</td>
                                        <td id="disk-wrct-{{ indx }}">0</td>
                                        <td id="disk-rdbt-{{ indx }}">0</td>
                                        <td id="disk-wrbt-{{ indx }}">0</td>
                                        <td id="disk-rdtm-{{ indx }}">0</td>
                                        <td id="disk-wrtm-{{ indx }}">0</td>
                                        <td id="disk-wrmc-{{ indx }}">0</td>
                                        <td id="disk-rdmc-{{ indx }}">0</td>
                                        <td id="disk-bstm-{{ indx }}">0</td>
                                    </tr>
                                    {% endfor %}
                                </tbody>
                            </table>
                            <h3 class="uk-card-title headelem">Partitions</h3>
                            {% for indx in diskpart %}
                            <div uk-alert class="uk-margin-small">
                                <h4 class="headelem uk-margin-remove">{{ indx[0] }} ({{ indx[1] }})</h4>
                                <p class="normelem uk-margin-remove"><span class="headelem">FSYS</span> {{ indx[2] }} / <span class="headelem">OPTS</span> {{ indx[3] }}</p>
                            </div>
                            {% endfor %}
                        </li>
                        <li>
                            <h3 class="uk-card-title headelem">Usage</h3>
                            <table class="uk-table uk-table-small uk-table-divider normelem">
                                <thead>
                                    <tr>
                                        <th>SNIC</th>
                                        <th>BSNT</th>
                                        <th>BRCV</th>
                                        <th>PSNT</th>
                                        <th>PRCV</th>
                                        <th>ERIN</th>
                                        <th>EOUT</th>
                                        <th>DPIN</th>
                                        <th>DOUT</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    {% for indx in range(netnames|length) %}
                                    <tr>
                                        <td id="netu-snic-{{ indx }}">{{ netnames[indx] }}</td>
                                        <td id="netu-bsnt-{{ indx }}">0</td>
                                        <td id="netu-brcv-{{ indx }}">0</td>
                                        <td id="netu-psnt-{{ indx }}">0</td>
                                        <td id="netu-prcv-{{ indx }}">0</td>
                                        <td id="netu-erin-{{ indx }}">0</td>
                                        <td id="netu-eout-{{ indx }}">0</td>
                                        <td id="netu-dpin-{{ indx }}">0</td>
                                        <td id="netu-dout-{{ indx }}">0</td>
                                    </tr>
                                    {% endfor %}
                                </tbody>
                            </table>
                            <h3 class="uk-card-title headelem">Statistics</h3>
                            {% for indx in netstats.keys() %}
                            <div uk-alert class="uk-margin-small">
                                <h4 class="headelem uk-margin-remove">{{ indx }} ({{ netstats[indx][0] }})</h4>
                                <p class="normelem uk-margin-remove">
                                    <span class="headelem">DUPLEX</span> {{ netstats[indx][1] }}
                                </p>
                                <p class="normelem uk-margin-remove">
                                    <span class="headelem">SPD</span> {{ netstats[indx][2] }} / <span class="headelem">MTU</span> {{ netstats[indx][3] }}
                                </p>
                            </div>
                            {% endfor %}
                            <h3 class="uk-card-title headelem">Addresses</h3>
                            {% for indx in netaddrs.keys() %}
                                {% for jndx in netaddrs[indx] %}
                                <div uk-alert class="uk-margin-small">
                                    <h4 class="headelem uk-margin-remove">{{ indx }} ({{ jndx[1] }})</h4>
                                    <p class="normelem uk-margin-remove">
                                        <span class="headelem">FAMILY</span> {{ jndx[0] }} / <span class="headelem">NETMASK</span> {{ jndx[2] }}
                                    </p>
                                    <p class="normelem uk-margin-remove">
                                        <span class="headelem">BROADCAST</span> {{ jndx[3] }} / <span class="headelem">PTP0</span> {{ jndx[4] }}
                                    </p>
                                </div>
                                {% endfor %}
                            {% endfor %}
                        </li>
                        <li>
                            <h3 class="uk-card-title headelem">Battery</h3>
                            <h4 class="hugeelem uk-margin-remove"><span id="batt-stat-perc">0</span>%</h4>
                            <progress id="batt-stat-prog" class="uk-progress uk-margin-small" value="0" max="100" style="color: #008080;"></progress>
                            <p class="normelem uk-margin-remove"><span class="headelem">SECS LEFT </span><span id="batt-stat-secs">span>0</span> secs</p>
                            <p class="normelem uk-margin-remove"><span class="headelem">PLUGGED </span><span id="batt-stat-plug"> False</span></p>
                            <h3 class="uk-card-title headelem">Fans</h3>
                            {% for indx in fanspeed.keys() %}
                            <h4 class="headelem uk-margin-remove">{{ indx }}</h4>
                            <table class="uk-table uk-table-small uk-table-divider normelem">
                                <thead>
                                    <tr>
                                        <th class="uk-width-2-5">LABL</th>
                                        <th class="uk-width-1-5">CURT</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    {% for jndx in range(fanspeed[indx]|length) %}
                                    <tr>
                                        <td id="fans-peed-labl-{{ indx }}-{{ jndx }}">{{ fanspeed[indx][jndx][0] }}</td>
                                        <td id="fans-peed-curt-{{ indx }}-{{ jndx }}">{{ fanspeed[indx][jndx][1] }} RPM</td>
                                    </tr>
                                    {% endfor %}
                                </tbody>
                            </table>
                            {% endfor %}
                        </li>
                        <li>
                            <h3 class="uk-card-title headelem">Temperature</h3>
                            {% for indx in senstemp.keys() %}
                            <h4 class="headelem uk-margin-remove">{{ indx }}</h4>
                            <table class="uk-table uk-table-small uk-table-divider normelem">
                                <thead>
                                    <tr>
                                        <th class="uk-width-2-5">LABL</th>
                                        <th class="uk-width-1-5">CURT</th>
                                        <th class="uk-width-1-5">HIGH</th>
                                        <th class="uk-width-1-5">CRIT</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    {% for jndx in range(senstemp[indx]|length) %}
                                    <tr>
                                        <td id="sens-temp-labl-{{ indx }}-{{ jndx }}">{{ senstemp[indx][jndx][0] }}</td>
                                        <td id="sens-temp-curt-{{ indx }}-{{ jndx }}">{{ senstemp[indx][jndx][1] }} C</td>
                                        <td id="sens-temp-high-{{ indx }}-{{ jndx }}">{{ senstemp[indx][jndx][2] }} C</td>
                                        <td id="sens-temp-crit-{{ indx }}-{{ jndx }}">{{ senstemp[indx][jndx][3] }} C</td>
                                    </tr>
                                    {% endfor %}
                                </tbody>
                            </table>
                            {% endfor %}
                        </li>
                        <li>
                            <h3 id="proc-info-ttle" class="headelem uk-margin-remove">Active ({{ procinfo|length }})</h3>
                            <table id="proclist" class="uk-table uk-table-small uk-table-divider normelem">
                                <thead>
                                    <tr>
                                        <th>NAME</th>
                                        <th>USER</th>
                                        <th>MPRC</th>
                                        <th>CPRC</th>
                                        <th>THRD</th>
                                        <th>TERM</th>
                                        <th>STAT</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    {% for indx in range(procinfo|length) %}
                                    <tr>
                                        <td id="proc-info-name-{{ indx }}"><a type='button' uk-toggle='target: #students-login-modal' class='uk-button uk-button-text headelem'>{{ procinfo[indx]["name"] }}</a></td>
                                        <td id="proc-info-user-{{ indx }}">{{ procinfo[indx]["username"] }}</td>
                                        <td id="proc-info-mprc-{{ indx }}">{{ procinfo[indx]["memory_percent"] }}</td>
                                        <td id="proc-info-cprc-{{ indx }}">{{ procinfo[indx]["cpu_percent"] }}</td>
                                        <td id="proc-info-thrd-{{ indx }}">{{ procinfo[indx]["num_threads"] }}</td>
                                        <td id="proc-info-term-{{ indx }}">{{ procinfo[indx]["terminal"] }}</td>
                                        <td id="proc-info-stat-{{ indx }}">{{ procinfo[indx]["status"] }}</td>
                                    </tr>
                                    {% endfor %}
                                </tbody>
                            </table>
                        </li>
                        <li>Bazinga!</li>
                        <li>
                            <h3 class="uk-card-title headelem">System Information</h3>
                            <dl class="uk-description-list">
                                <dt class="headelem">Variant</dt>
                                <dd class="normelem">
                                    {% for indx in range(systarry|length) %}
                                        {{ systarry[indx] }}
                                        {% if indx != (systarry|length) - 1 %}
                                            /
                                        {% endif %}
                                    {% endfor %}
                                </dd>
                                {% for key, value in retndata.items() %}
                                <dt class="headelem">{{ key }}</dt>
                                <dd class="normelem">{{ value }}</dd>
                                {% endfor %}
                                <dt class="headelem">Boot time</dt>
                                <dd class="normelem">{{ boottime }}</dd>
                            </dl>
                        </li>
                    </ul>
                </div>
                <div class="uk-card-footer uk-padding-small forggrin">
                    <a href="#" class="uk-button uk-button-text headelem">Read more</a>
                </div>
            </div>
        </div>
        <br/>
        <div id="students-login-modal" uk-modal>
            <!--
            var pmodname = "\""+String(data.procinfo[indx]['name'])+"\"";
            var pmodpide = "\""+String(data.procinfo[indx]['pid'])+"\"";
            var pmodcpaf = "\""+String(data.procinfo[indx]['cpu_affinity'])+"\"";
            var pmodcprc = "\""+String(data.procinfo[indx]['cpu_percent'])+"\"";
            var pmodcptm = "\""+String(data.procinfo[indx]['cpu_times'])+"\"";
            var pmodmktm = "\""+String(data.procinfo[indx]['create_time'])+"\"";
            var pmodgids = "\""+String(data.procinfo[indx]['gids'])+"\"";
            var pmodminf = "\""+String(data.procinfo[indx]['memory_info'])+"\"";
            var pmodmprc = "\""+String(data.procinfo[indx]['memory_percent'])+"\"";
            var pmodctxs = "\""+String(data.procinfo[indx]['num_ctx_switches'])+"\"";
            var pmodthqn = "\""+String(data.procinfo[indx]['num_threads'])+"\"";
            var pmodstat = "\""+String(data.procinfo[indx]['status'])+"\"";
            var pmodterm = "\""+String(data.procinfo[indx]['terminal'])+"\"";
            var pmodthrd = "\""+String(data.procinfo[indx]['threads'])+"\"";
            var pmoduids = "\""+String(data.procinfo[indx]['uids'])+"\"";
            var pmoduser = "\""+String(data.procinfo[indx]['username'])+"\"";
            -->
            <div class="uk-modal-dialog uk-modal-body uk-margin-auto-vertical" style="padding: 0px;">
                <button class="uk-modal-close-default" type="button" style="color: #000000;" uk-close></button>
                <div class="uk-card uk-card-small uk-card-default uk-width-1-1@m">
                    <div class="uk-card-header forggrin">
                        <div class="uk-grid-small uk-flex-middle" uk-grid>
                            <div class="uk-width-auto">
                                <img class="uk-border-circle" width="40" height="40" src="{{ url_for("static", filename="imgs/datalogo.png") }}">
                            </div>
                            <div class="uk-width-expand">
                                <h3 id="proc-boxe-name" class="uk-card-title uk-margin-remove-bottom headelem">Process name</h3>
                                <p id="proc-boxe-pide" class="uk-text-meta uk-margin-remove-top normelem">PID</p>
                            </div>
                        </div>
                    </div>
                    <div class="uk-card-body">
                        <dl class="uk-description-list">
                            <dt class="headelem">Task started at</dt><dd id="proc-boxe-mktm" class="normelem">0</dd>
                            <dt class="headelem">Group IDs associated</dt><dd id="proc-boxe-gids" class="normelem">0</dd>
                            <dt class="headelem">Memory statistics</dt><dd id="proc-boxe-minf" class="normelem">0</dd>
                            <dt class="headelem">Memory usage</dt><dd id="proc-boxe-mprc" class="normelem">0</dd>

                            <dt class="headelem">Processor affinity</dt><dd id="proc-boxe-cpaf" class="normelem">0</dd>
                            <dt class="headelem">Processor usage</dt><dd id="proc-boxe-cprc" class="normelem">0</dd>
                            <dt class="headelem">Time state</dt><dd id="proc-boxe-cptm" class="normelem">0</dd>

                            <dt class="headelem">Context switches</dt><dd id="proc-boxe-ctxs" class="normelem">0</dd>
                            <dt class="headelem">Thread count</dt><dd id="proc-boxe-thqn" class="normelem">0</dd>
                            <dt class="headelem">Status</dt><dd id="proc-boxe-stat" class="normelem">0</dd>
                            <dt class="headelem">Terminal</dt><dd id="proc-boxe-term" class="normelem">0</dd>
                            <dt class="headelem">Threads</dt><dd id="proc-boxe-thrd" class="normelem">0</dd>
                            <dt class="headelem">User IDs associated</dt><dd id="proc-boxe-uids" class="normelem">0</dd>
                            <dt class="headelem">Started by</dt><dd id="proc-boxe-user" class="normelem">0</dd>
                        </dl>
                    </div>
                    <div class="uk-card-footer forggrin">
                        <a type='button' class='uk-button uk-button-text headelem'>KILL</a>
                        &nbsp;&nbsp;&nbsp;&nbsp;
                        <a type='button' class='uk-button uk-button-text headelem'>SUSPEND</a>
                    </div>
                </div>
            </div>
        </div>
    </body>
</html>